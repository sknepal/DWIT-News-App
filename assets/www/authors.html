<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=no" />

		<link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.min.css" />
		<link rel="stylesheet" type="text/css" href="css/index.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<link rel="stylesheet" type="text/css" href="css/jquery.mobile.pagination.css" />
		<link rel="stylesheet" href="css/jquery.mobile.iscrollview.css" />
		<link rel="stylesheet" href="css/jquery.mobile.iscrollview-pull.css" />
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>
		<script type="text/javascript" src="js/libs/handlebars.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
		<script type="text/javascript" src="js/SocialSharing.js"></script>
		<script src="js/iscroll.js" type="text/javascript"></script>
		<script src="js/jquery.mobile.iscrollview.js" type="text/javascript"></script>
		<script src="pull.js" type="text/javascript"></script>
		<script src="js/custom.js" type="text/javascript"></script>
        <script src="js/jquery.touchSwipe.min.js" type="text/javascript"></script>

		<script></script>
		<title>Authors</title>
	</head>
	<body>
		<div class="hwrapper" data-role="page" id="author-page" data-dom-cache="true">
			<div class="panel left" data-role="panel" data-position="left" data-display="push" id="panel-left">
				<ul>
					<li class="home">
						<a href="" onclick="changePage('index.html');"  title="Home" data-rel="close" in-app="true">Home</a>
					</li>
					<li class="authors">
						<a href="" onclick="changePage('authors.html');" title="Authors" data-rel="close" in-app="true" >Authors</a>
					</li>
					<li class="aboutus">
						<a href="" onclick="changePage('page.html?page=about-us');" title="About Us" data-rel="close" in-app="true" >About Us</a>
					</li>
				
					<li class="search">
						<a  href="javascript:$.mobile.activePage.find('#popupSearch').popup('open');" data-rel="popup" data-position-to="window" data-transition="pop" title="Search" in-app="true">Search</a>
					</li>

					<div data-role="popup" id="popupSearch" class="ui-content" data-theme="a" >
						<form action="" onsubmit="changePage('searchresults.html?search=' + $.mobile.activePage.find('#search').val());" target="_blank">
							<input type="search" name="search" id="search" value="" data-mini="true" placeholder="Search for..." autofocus/>

						</form>
					</div>
				</ul>
			</div>
			<div class="header" data-role="header" >
				<span class="open left"><a href="javascript:$.mobile.activePage.find('#panel-left').panel('open'); " in-app="true">&#xe809;</a></span>
				<span class="title">DWIT News</span>
				<span class="open right"><a href="javascript:$.mobile.activePage.find('#panel-right').panel('open'); " in-app="true">&#xe805;</a></span>
			</div>

			<div class="panel right" data-role="panel" data-position="right" data-display="overlay" id="panel-right">

	<ul>
					<li class="news">
						<a href="" onclick="changePage('category.html?cat=news-3');" title="News" data-rel="close" in-app="true">News</a>
					</li>
					<li class="reviews">
						<a href="" onclick="changePage('category.html?cat=reviews');" title="Reviews" data-rel="close" in-app="true">Reviews</a>
					</li>
					<li class="people">
						<a href="" onclick="changePage('category.html?cat=people');" title="People" data-rel="close" in-app="true">People</a>
					</li>
					<li class="creativity">
						<a href="" onclick="changePage('category.html?cat=creativity');" title="Creativity" data-rel="close" in-app="true">Creativity</a>
					</li>
					<li class="opinion">
						<a href="" onclick="changePage('category.html?cat=opinion');" title="Opinion" data-rel="close" in-app="true">Opinion</a>
                        <li class="faculty">
						<a href="" onclick="changePage('category.html?cat=faculty-corner');" title="Faculty" data-rel="close" in-app="true">Faculty</a>
					</li>
				</ul>
			</div>
			<div id="author-content" data-role="content"  class="authors">

				<div id="author-data" data-iscroll class="wrapperb"></div>
				<script id="author-template" type="text/x-handlebars-template">
					{{#each authors}}
					<li><a href="javascript:changePage('authorposts.html?authname={{{slug}}}');" in-app="true" data-direction="reverse">
					<h3>{{{name}}}</h3>
					<!--
					<span class="ui-li-count">{{comments.length}}</span>
					<p style="white-space:normal">  Author: {{{author.name}}}</p>
					<p style="white-space:normal"><strong>[{{categories.0.title}}]</strong> - {{prettifyDate date}}  </p>
					-->
					<p class="ui-li-aside"></p>
					</a></li>
					{{/each}}
				</script>

			</div>
			<div class="footer" data-id="footer" data-role="footer" data-transition="none" >
				<!-- <div data-role="navbar">
				<ul>
				<li><a href="javascript:prevauth()" data-icon="arrow-l"></a></li>
				<li><a href="javascript:nextauth()" data-icon="arrow-r"></a></li>
				</ul>
				</div>-->
			</div>
			<script>
                
                $('form').on('submit', function(e) {
					e.preventDefault();
				});

				$("#author-page").one("pageshow", function(event, ui) {

                            $.mobile.activePage.find('#panel-left').on("click", function () {
                        $.mobile.activePage.find('#panel-left').panel("close");    
  // $("#panel-left").panel("close");
  }); 
					loading();
					app.authors();
				});
				$('a').click(function(e) {
					var href = ["#panel-left", "#panel-right", "#"];
					if (!($.inArray($(e.currentTarget).attr('href'), href) != -1 || $(e.currentTarget).attr('in-app') == 'true')) {
						e.preventDefault();
						console.log("second");
						window.open($(e.currentTarget).attr('href'), '_system', '');
					}
				});
				
	$(document).on("pagebeforehide","#author-page",function(){ // When leaving pagetwo
      //  authRequest.abort();
 //  $("body").find("*").removeAttr("disabled");
   // $("body").find("a").unbind("click");
});
                
                                   $(function() {      
     $("#author-content").swipe( {
        //Generic swipe handler for all directions
        swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
         // $(this).text("You swiped " + direction ); 
            console.log(direction);
            if (direction=='right')
                $.mobile.activePage.find('#panel-left').panel("open"); 
            else if (direction=='left')
                $.mobile.activePage.find('#panel-right').panel("open"); 
        }
      });
    });
                   $(document).ajaxStart(function() {
    loading();
});

$(document).ajaxStop(function() {
    doneLoading();
});
			</script>
		</div>

	</body>
</html>
